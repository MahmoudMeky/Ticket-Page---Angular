<div class="p-2 bg-white rounded-2">
  <p-table [value]="ticketSales" [tableStyle]="{ 'min-width': '50rem' }">
    <ng-template pTemplate="header">
      <tr>
        <th>#</th>
        <th>المستخدم</th>
        <th>رقم التذكرة</th>
        <th>قيمة التذكرة</th>
        <th>السينمات</th>
        <th>عدد الأشخاص</th>
        <th>عدد مرات الشراء</th>
        <th>التذكرة</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-ticket let-i="rowIndex">
      <tr>
        <td class="text-muted">{{ i + 1 }}</td>
        <td class="">
          <div class="d-flex gap-2">
            <img [src]="ticket.userImg" class="user-avatar" />
            <div class="d-flex flex-column fw-medium">
              <span class="text-end">{{ ticket.userName }}</span>
              <span class="text-muted">{{ ticket.userPhoneNum }}</span>
            </div>
          </div>
        </td>
        <td>{{ ticket.ticketNo }}</td>
        <td>{{ ticket.price | currency : "USD" : "symbol" : "2.0" }}</td>
        <td>
          {{
            ticket.cinemas?.length > 4
              ? ticket.cinemas.slice(0, 4)
              : ticket.cinemas
          }}
          <span
            *ngIf="ticket.cinemas?.length > 4"
            pInputText
            [pTooltip]="ticket.cinemas.slice(4).join(' , ')"
            tooltipPosition="top"
          >
            ...
          </span>
        </td>
        <td>{{ ticket.persons }}</td>
        <td>
          {{ ticket.purchaseTimes == 1 ? "مرة واحدة" : ticket.purchaseTimes }}
        </td>
        <td>
          <div class="d-flex gap-3 align-items-center">
            <div class="ticket-icon">
              <svg
                width="16"
                height="16"
                viewBox="0 0 16 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.4104 3.2665C11.4104 3.27275 11.4104 3.27275 11.4104 3.279C11.2542 3.27275 11.0979 3.2665 10.9292 3.2665H6.11668L6.78543 2.604C7.39793 1.98525 8.07293 1.4165 8.85418 1.4165C9.64168 1.4165 10.3167 1.98525 10.9292 2.604L11.2792 2.954C11.3667 3.03525 11.4104 3.14775 11.4104 3.2665Z"
                  fill="#8A74F9"
                />
                <path
                  d="M13.6917 8.39775C13.9354 8.39775 14.1292 8.19775 14.1292 7.94775V7.39775C14.1292 4.9415 13.3792 4.19775 10.9292 4.19775H6.99168H5.40418C2.95418 4.19775 2.20418 4.94775 2.20418 7.39775V7.6665C2.20418 7.9165 2.39793 8.11025 2.64168 8.11025C3.16668 8.11025 3.58543 8.53525 3.58543 9.054C3.58543 9.57275 3.16668 10.004 2.64168 10.004C2.39793 10.004 2.20418 10.1978 2.20418 10.4478V10.7165C2.20418 13.1728 2.95418 13.9165 5.40418 13.9165H6.98543H10.9229C13.3729 13.9165 14.1229 13.1665 14.1229 10.7165C14.1229 10.4728 13.9292 10.2728 13.6854 10.2728C13.1604 10.2728 12.7417 9.854 12.7417 9.33525C12.7479 8.8165 13.1667 8.39775 13.6917 8.39775ZM7.42918 11.954C7.42918 12.1978 7.22918 12.3978 6.98543 12.3978C6.74168 12.3978 6.54168 12.1978 6.54168 11.954V10.279C6.54168 10.0353 6.74168 9.83525 6.98543 9.83525C7.22918 9.83525 7.42918 10.0353 7.42918 10.279V11.954ZM7.42918 7.83525C7.42918 8.079 7.22918 8.279 6.98543 8.279C6.74168 8.279 6.54168 8.079 6.54168 7.83525V6.16025C6.54168 5.9165 6.74168 5.7165 6.98543 5.7165C7.22918 5.7165 7.42918 5.9165 7.42918 6.16025V7.83525Z"
                  fill="#8A74F9"
                />
              </svg>
            </div>
            <div class="d-flex flex-column custom-text-start">
              <span>{{ ticket.fileName }}.pdf</span>
              <span class="text-muted file-size"
                >{{ ticket.fileSize | fileSizeInMB }} . PDF</span
              >
            </div>
            <a class="download-icon m-auto" href="">
              <svg
                width="18"
                height="18"
                viewBox="0 0 18 18"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M11.0667 17.3332H6.26666C2.26666 17.3332 0.666656 15.7332 0.666656 11.7332V6.93319C0.666656 2.93319 2.26666 1.33319 6.26666 1.33319H11.0667C15.0667 1.33319 16.6667 2.93319 16.6667 6.93319V11.7332C16.6667 15.7332 15.0667 17.3332 11.0667 17.3332Z"
                  stroke="#8A74F9"
                  stroke-width="1.25"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  d="M10.8333 9.25801L8.33333 11.758L5.83333 9.25801M8.33333 11.758V5.09134M13.3333 13.4247C10.0917 14.508 6.575 14.508 3.33333 13.4247"
                  stroke="#8A74F9"
                  stroke-width="1.25"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </a>
          </div>
        </td>
      </tr>
    </ng-template>
  </p-table>
  <div class="paginator flex align-items-center justify-content-center">
    <div class="flex-1">
      <p-paginator
        [first]="first"
        [rows]="rows"
        [totalRecords]="120"
        [rowsPerPageOptions]="[10, 20, 30]"
        [showFirstLastIcon]="false"
      ></p-paginator>
    </div>
  </div>
</div>
